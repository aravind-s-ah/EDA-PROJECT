import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

df = pd.read_csv("/content/country_wise_latest.csv")

df.rename(columns={'Country/Region': 'Country'}, inplace=True)

df.fillna(0, inplace=True)

# GRAPH 1: Top 10 Countries by Confirmed Cases
top_confirmed = df.sort_values(by='Confirmed', ascending=False).head(10)

plt.figure()
plt.barh(top_confirmed['Country'], top_confirmed['Confirmed'])
plt.title("Top 10 Countries by Confirmed COVID-19 Cases")
plt.xlabel("Confirmed Cases")
plt.ylabel("Country")
plt.show()

# GRAPH 2: Top 10 Countries by Deaths
top_deaths = df.sort_values(by='Deaths', ascending=False).head(10)

plt.figure()
plt.barh(top_deaths['Country'], top_deaths['Deaths'])
plt.title("Top 10 Countries by COVID-19 Deaths")
plt.xlabel("Deaths")
plt.ylabel("Country")
plt.show()

# GRAPH 3: Top 10 Countries by Recovered Cases
top_recovered = df.sort_values(by='Recovered', ascending=False).head(10)

plt.figure()
plt.barh(top_recovered['Country'], top_recovered['Recovered'])
plt.title("Top 10 Countries by Recovered COVID-19 Cases")
plt.xlabel("Recovered Cases")
plt.ylabel("Country")
plt.show()

# GRAPH 4: Confirmed vs Deaths (Scatter Plot)
plt.figure()
plt.scatter(df['Confirmed'], df['Deaths'])
plt.title("Confirmed Cases vs Deaths")
plt.xlabel("Confirmed Cases")
plt.ylabel("Deaths")
plt.show()

# GRAPH 5: Confirmed vs Recovered (Scatter Plot)
plt.figure()
plt.scatter(df['Confirmed'], df['Recovered'])
plt.title("Confirmed Cases vs Recovered")
plt.xlabel("Confirmed Cases")
plt.ylabel("Recovered Cases")
plt.show()

# GRAPH 6: Mortality Rate by Country (Top 10)
df['Mortality Rate (%)'] = (df['Deaths'] / df['Confirmed']) * 100
df.replace([float('inf')], 0, inplace=True)

top_mortality = df.sort_values(by='Mortality Rate (%)', ascending=False).head(10)

plt.figure()
plt.barh(top_mortality['Country'], top_mortality['Mortality Rate (%)'])
plt.title("Top 10 Countries by Mortality Rate (%)")
plt.xlabel("Mortality Rate (%)")
plt.ylabel("Country")
plt.show()

df['Recovery Rate (%)'] = (df['Recovered'] / df['Confirmed']) * 100

top_recovery_rate = df.sort_values(by='Recovery Rate (%)', ascending=False).head(10)

plt.figure()
plt.barh(top_recovery_rate['Country'], top_recovery_rate['Recovery Rate (%)'])
plt.title("Top 10 Countries by Recovery Rate (%)")
plt.xlabel("Recovery Rate (%)")
plt.ylabel("Country")
plt.show()
plt.figure()
sns.heatmap(
    df[['Confirmed', 'Deaths', 'Recovered']].corr(),
    annot=True
)
plt.title("Correlation Between COVID-19 Metrics")
plt.show()

labels = ['Confirmed', 'Deaths', 'Recovered']
values = [
    df['Confirmed'].sum(),
    df['Deaths'].sum(),
    df['Recovered'].sum()
]

plt.figure()
plt.pie(values, labels=labels, autopct='%1.1f%%')
plt.title("Global COVID-19 Case Distribution")
plt.show()

print("COVID-19 DATA VISUALIZATION COMPLETED SUCCESSFULLY âœ…")
